using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LunaCube.HW.CPU.Data
{
    //Format:
    //Bits 0-9: sub opcode
    //Bits 10-15: main opcode
    public enum InstructionType : ushort
    {
        Illegal =   0,
        Twi =       (0b000011) << 10,

        //Paired singles (group 4)
        PsCmpu0 =   ((0b000100) << 10) | 0b0000000000,
        PsqLx =     ((0b000100) << 10) | 0b0000000110,
        PsqStx =    ((0b000100) << 10) | 0b0000000111,
        PsSum0 =    ((0b000100) << 10) | 0b0000001010,
        PsSum1 =    ((0b000100) << 10) | 0b0000001011,
        PsMuls0 =   ((0b000100) << 10) | 0b0000001100,
        PsMuls1 =   ((0b000100) << 10) | 0b0000001101,
        PsMadds0 =  ((0b000100) << 10) | 0b0000001110,
        PsMadds1 =  ((0b000100) << 10) | 0b0000001111,
        PsDiv =     ((0b000100) << 10) | 0b0000010010,
        PsSub =     ((0b000100) << 10) | 0b0000010100,
        PsAdd =     ((0b000100) << 10) | 0b0000010101,
        PsSel =     ((0b000100) << 10) | 0b0000010111,
        PsRes =     ((0b000100) << 10) | 0b0000011000,
        PsMul =     ((0b000100) << 10) | 0b0000011001,
        PsRsqrte =  ((0b000100) << 10) | 0b0000011010,
        PsMsub =    ((0b000100) << 10) | 0b0000011100,
        PsMadd =    ((0b000100) << 10) | 0b0000011101,
        PsNmsub =   ((0b000100) << 10) | 0b0000011110,
        PsNmadd =   ((0b000100) << 10) | 0b0000011111,
        PsCmpo0 =   ((0b000100) << 10) | 0b0000100000,
        PsqLux =    ((0b000100) << 10) | 0b0000100110,
        PsqStux =   ((0b000100) << 10) | 0b0000100111,
        PsNeg =     ((0b000100) << 10) | 0b0000101000,
        PsCmpu1 =   ((0b000100) << 10) | 0b0001000000,
        PsMr =      ((0b000100) << 10) | 0b0001001000,
        PsCmpo1 =   ((0b000100) << 10) | 0b0001100000,
        PsNabs =    ((0b000100) << 10) | 0b0010001000,
        PsAbs =     ((0b000100) << 10) | 0b0100001000,
        PsMerge00 = ((0b000100) << 10) | 0b1000010000,
        PsMerge01 = ((0b000100) << 10) | 0b1000110000,
        PsMerge10 = ((0b000100) << 10) | 0b1001010101,
        PsMerge11 = ((0b000100) << 10) | 0b1001110000,
        DcbzL =     ((0b000100) << 10) | 0b1111110110,

        Mulli =     (0b000111) << 10,
        Subfic =    (0b001000) << 10,
        Cmpli =     (0b001010) << 10,
        Cmpi =      (0b001011) << 10,
        Addic =     (0b001100) << 10,
        AddicCnd =  (0b001101) << 10,
        Addi =      (0b001110) << 10,
        Addis =     (0b001111) << 10,
        Bc =        (0b010000) << 10,
        Sc =        (0b010001) << 10,
        B =         (0b010010) << 10,

        //Group 19
        Mcrf =      ((0b010011) << 10) | 0b0000000000,
        Bclr =      ((0b010011) << 10) | 0b0000010000,
        Crnor =     ((0b010011) << 10) | 0b0000100001,
        Rfi =       ((0b010011) << 10) | 0b0001100100,
        Crandc =    ((0b010011) << 10) | 0b0010000001,
        Isync =     ((0b010011) << 10) | 0b0010010110,
        Crxor =     ((0b010011) << 10) | 0b0011000001,
        Crnand =    ((0b010011) << 10) | 0b0011100001,
        Crand =     ((0b010011) << 10) | 0b0100000001,
        Creqv =     ((0b010011) << 10) | 0b0100100001,
        Crorc =     ((0b010011) << 10) | 0b0110100001,
        Cror =      ((0b010011) << 10) | 0b0111000001,
        Bcctr =     ((0b010011) << 10) | 0b1000010000,

        Rlwimi =    (0b010100) << 10,
        Rlwinm =    (0b010101) << 10,
        Rlwnm =     (0b010111) << 10,
        Ori =       (0b011000) << 10,
        Oris =      (0b011001) << 10,
        Xori =      (0b011010) << 10,
        Xoris =     (0b011011) << 10,
        AndiCnd =   (0b011100) << 10,
        AndisCnd =  (0b011101) << 10,

        //Group 31
        Cmp =       ((0b011111) << 10) | 0b0000000000,
        Tw =        ((0b011111) << 10) | 0b0000000100,
        Subfc =     ((0b011111) << 10) | 0b0000001000,
        Addc =      ((0b011111) << 10) | 0b0000001010,
        Mulhwu =    ((0b011111) << 10) | 0b0000001011,
        Mfcr =      ((0b011111) << 10) | 0b0000010011,
        Lwarx =     ((0b011111) << 10) | 0b0000010100,
        Lwzx =      ((0b011111) << 10) | 0b0000010111,
        Slw =       ((0b011111) << 10) | 0b0000011000,
        Cntlzw =    ((0b011111) << 10) | 0b0000011010,
        And =       ((0b011111) << 10) | 0b0000011100,
        Cmpl =      ((0b011111) << 10) | 0b0000100000,
        Subf =      ((0b011111) << 10) | 0b0000101000,
        Dcbst =     ((0b011111) << 10) | 0b0000110110,
        Lwzux =     ((0b011111) << 10) | 0b0000110111,
        Andc =      ((0b011111) << 10) | 0b0000111100,
        Mulhw =     ((0b011111) << 10) | 0b0001001011,
        Mfmsr =     ((0b011111) << 10) | 0b0001010011,
        Dcbf =      ((0b011111) << 10) | 0b0001010110,
        Lbzx =      ((0b011111) << 10) | 0b0001010111,
        Neg =       ((0b011111) << 10) | 0b0001101000,
        Lbzux =     ((0b011111) << 10) | 0b0001110111,
        Nor =       ((0b011111) << 10) | 0b0001111100,
        Subfe =     ((0b011111) << 10) | 0b0010001000,
        Adde =      ((0b011111) << 10) | 0b0010001010,
        Mtcrf =     ((0b011111) << 10) | 0b0010010000,
        Mtmsr =     ((0b011111) << 10) | 0b0010010010,
        StwcxCnd =  ((0b011111) << 10) | 0b0010010110,
        Stwx =      ((0b011111) << 10) | 0b0010010111,
        Stwux =     ((0b011111) << 10) | 0b0010110111,
        Subfze =    ((0b011111) << 10) | 0b0011001000,
        Addze =     ((0b011111) << 10) | 0b0011001010,
        Mtsr =      ((0b011111) << 10) | 0b0011010010,
        Stbx =      ((0b011111) << 10) | 0b0011010111,
        Subfme =    ((0b011111) << 10) | 0b0011101000,
        Addme =     ((0b011111) << 10) | 0b0011101010,
        Mullw =     ((0b011111) << 10) | 0b0011101011,
        Mtsrin =    ((0b011111) << 10) | 0b0011110010,
        Dcbtst =    ((0b011111) << 10) | 0b0011110110,
        Stbux =     ((0b011111) << 10) | 0b0011110111,
        Add =       ((0b011111) << 10) | 0b0100001010,
        Dcbt =      ((0b011111) << 10) | 0b0100010110,
        Lhzx =      ((0b011111) << 10) | 0b0100010111,
        Eqv =       ((0b011111) << 10) | 0b0100011100,
        Tlbie =     ((0b011111) << 10) | 0b0100110010,
        Eciwx =     ((0b011111) << 10) | 0b0100110110,
        Lhzux =     ((0b011111) << 10) | 0b0100110111,
        Xor =       ((0b011111) << 10) | 0b0100111100,
        Mfspr =     ((0b011111) << 10) | 0b0101010011,
        Lhax =      ((0b011111) << 10) | 0b0101010111,
        Mftb =      ((0b011111) << 10) | 0b0101110011,
        Lhaux =     ((0b011111) << 10) | 0b0101110111,
        Sthx =      ((0b011111) << 10) | 0b0110010111,
        Orc =       ((0b011111) << 10) | 0b0110011100,
        Ecowx =     ((0b011111) << 10) | 0b0110110110,
        Sthux =     ((0b011111) << 10) | 0b0110110111,
        Or =        ((0b011111) << 10) | 0b0110111100,
        Divwu =     ((0b011111) << 10) | 0b0111001011,
        Mtspr =     ((0b011111) << 10) | 0b0111010011,
        Dcbi =      ((0b011111) << 10) | 0b0111010110,
        Nand =      ((0b011111) << 10) | 0b0111011100,
        Divw =      ((0b011111) << 10) | 0b0111101011,
        Mcrxr =     ((0b011111) << 10) | 0b1000000000,
        Lswx =      ((0b011111) << 10) | 0b1000010101,
        Lwbrx =     ((0b011111) << 10) | 0b1000010110,
        Lfsx =      ((0b011111) << 10) | 0b1000010111,
        Srw =       ((0b011111) << 10) | 0b1000011000,
        Tlbsync =   ((0b011111) << 10) | 0b1000110110,
        Lfsux =     ((0b011111) << 10) | 0b1000110111,
        Mfsr =      ((0b011111) << 10) | 0b1001010011,
        Lswi =      ((0b011111) << 10) | 0b1001010101,
        Sync =      ((0b011111) << 10) | 0b1001010110,
        Lfdx =      ((0b011111) << 10) | 0b1001010111,
        Lfdux =     ((0b011111) << 10) | 0b1001110111,
        Mfsrin =    ((0b011111) << 10) | 0b1010010011,
        Stswx =     ((0b011111) << 10) | 0b1010010101,
        Stwbrx =    ((0b011111) << 10) | 0b1010010110,
        Stfsx =     ((0b011111) << 10) | 0b1010010111,
        Stfsux =    ((0b011111) << 10) | 0b1010110111,
        Stswi =     ((0b011111) << 10) | 0b1011010101,
        Stfdx =     ((0b011111) << 10) | 0b1011010111,
        Stfdux =    ((0b011111) << 10) | 0b1011110111,
        Lhbrx =     ((0b011111) << 10) | 0b1100010110,
        Sraw =      ((0b011111) << 10) | 0b1100011000,
        Srawi =     ((0b011111) << 10) | 0b1100111000,
        Eieio =     ((0b011111) << 10) | 0b1101010110,
        Sthbrx =    ((0b011111) << 10) | 0b1110010110,
        Extsh =     ((0b011111) << 10) | 0b1110011010,
        Extsb =     ((0b011111) << 10) | 0b1110111010,
        Icbi =      ((0b011111) << 10) | 0b1111010110,
        Stfiwx =    ((0b011111) << 10) | 0b1111010111,
        Dcbz =      ((0b011111) << 10) | 0b1111110110,

        //Loads/stores
        Lwz =       (0b100000) << 10,
        Lwzu =      (0b100001) << 10,
        Lbz =       (0b100010) << 10,
        Lbzu =      (0b100011) << 10,
        Stw =       (0b100100) << 10,
        Stwu =      (0b100101) << 10,
        Stb =       (0b100110) << 10,
        Stbu =      (0b100111) << 10,
        Lhz =       (0b101000) << 10,
        Lhzu =      (0b101001) << 10,
        Lha =       (0b101010) << 10,
        Lhau =      (0b101011) << 10,
        Sth =       (0b101100) << 10,
        Sthu =      (0b101101) << 10,
        Lmw =       (0b101110) << 10,
        Stmw =      (0b101111) << 10,
        Lfs =       (0b110000) << 10,
        Lfsu =      (0b110001) << 10,
        Lfd =       (0b110010) << 10,
        Lfdu =      (0b110011) << 10,
        Stfs =      (0b110100) << 10,
        Stfsu =     (0b110101) << 10,
        Stfd =      (0b110110) << 10,
        Stfdu =     (0b110111) << 10,
        
        //Paired single loads (not in 750CL)
        PsqL =      (0b111000) << 10,
        PsqLu =     (0b111001) << 10,

        //Group 59
        Fdivs =     ((0b111011) << 10) | 0b0000010010,
        Fsubs =     ((0b111011) << 10) | 0b0000010100,
        Fadds =     ((0b111011) << 10) | 0b0000010101,
        Fres =      ((0b111011) << 10) | 0b0000011000,
        Fmuls =     ((0b111011) << 10) | 0b0000011001,
        Fmsubs =    ((0b111011) << 10) | 0b0000011100,
        Fmadds =    ((0b111011) << 10) | 0b0000011101,
        Fnmsubs =   ((0b111011) << 10) | 0b0000011110,
        Fnmadds =   ((0b111011) << 10) | 0b0000011111,

        //Paired single stores (not in 750CL)
        PsqSt =     (0b111100) << 10,
        PsqStu =    (0b111101) << 10,

        //Group 63
        Fcmpu =     ((0b111111) << 10) | 0b0000000000,
        Frsp =      ((0b111111) << 10) | 0b0000001100,
        Fctiw =     ((0b111111) << 10) | 0b0000001110,
        Fctiwz =    ((0b111111) << 10) | 0b0000001111,
        Fdiv =      ((0b111111) << 10) | 0b0000010010,
        Fsub =      ((0b111111) << 10) | 0b0000010100,
        Fadd =      ((0b111111) << 10) | 0b0000010101,
        Fsel =      ((0b111111) << 10) | 0b0000010111,
        Fmul =      ((0b111111) << 10) | 0b0000011001,
        Frsqrte =   ((0b111111) << 10) | 0b0000011010,
        Fmsub =     ((0b111111) << 10) | 0b0000011100,
        Fmadd =     ((0b111111) << 10) | 0b0000011101,
        Fnmsub =    ((0b111111) << 10) | 0b0000011110,
        Fnmadd =    ((0b111111) << 10) | 0b0000011111,
        Fcmpo =     ((0b111111) << 10) | 0b0000100000,
        Mtfsb1 =    ((0b111111) << 10) | 0b0000100110,
        Fneg =      ((0b111111) << 10) | 0b0000101000,
        Mcrfs =     ((0b111111) << 10) | 0b0001000000,
        Mtfsb0 =    ((0b111111) << 10) | 0b0001000110,
        Fmr =       ((0b111111) << 10) | 0b0001001000,
        Mtfsfi =    ((0b111111) << 10) | 0b0010000110,
        Fnabs =     ((0b111111) << 10) | 0b0010001000,
        Fabs =      ((0b111111) << 10) | 0b0100001000,
        Mffs =      ((0b111111) << 10) | 0b1001000111,
        Mtfsf =     ((0b111111) << 10) | 0b1011000111
    }

}
